<!-- 기본 메타 태그 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- SEO 메타 태그 -->
<meta name="description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description | strip_html | strip_newlines | truncate: 160 }}{% endif %}">
<meta name="keywords" content="{% if page.keywords %}{% for keyword in page.keywords %}{{ keyword }}{% unless forloop.last %}, {% endunless %}{% endfor %}{% else %}{{ site.meta.keywords }}{% endif %}">
<meta name="robots" content="{{ site.meta.robots | default: 'index, follow' }}">
<meta name="author" content="{{ site.author.name | default: site.company.name }}">

<!-- 언어 및 지역 설정 -->
<meta name="language" content="{{ site.lang | default: 'ko-KR' }}">
<meta name="geo.region" content="KR">
<meta name="geo.country" content="KR">

<!-- Open Graph 메타 태그 -->
<meta property="og:type" content="{% if page.layout == 'product-detail' %}product{% else %}{{ site.og.type | default: 'website' }}{% endif %}">
<meta property="og:title" content="{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}">
<meta property="og:description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description | strip_html | strip_newlines | truncate: 160 }}{% endif %}">
<meta property="og:url" content="{{ site.url }}{{ page.url }}">
<meta property="og:site_name" content="{{ site.company.name }}">
<meta property="og:locale" content="{{ site.locale | default: 'ko_KR' }}">

<!-- Open Graph 이미지 -->
{% if page.image %}
<meta property="og:image" content="{{ site.url }}{{ page.image }}">
{% elsif page.images and page.images.size > 0 %}
<meta property="og:image" content="{{ site.url }}{{ page.images[0].src }}">
{% else %}
<meta property="og:image" content="{{ site.url }}{{ site.og.image }}">
{% endif %}
<meta property="og:image:width" content="{{ site.og.image_width | default: 1200 }}">
<meta property="og:image:height" content="{{ site.og.image_height | default: 630 }}">

<!-- Twitter Card 메타 태그 -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}">
<meta name="twitter:description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description | strip_html | strip_newlines | truncate: 160 }}{% endif %}">
{% if page.image %}
<meta name="twitter:image" content="{{ site.url }}{{ page.image }}">
{% elsif page.images and page.images.size > 0 %}
<meta name="twitter:image" content="{{ site.url }}{{ page.images[0].src }}">
{% else %}
<meta name="twitter:image" content="{{ site.url }}{{ site.og.image }}">
{% endif %}

<!-- 검색엔진 인증 -->
{% if site.meta.google_site_verification and site.meta.google_site_verification != "" %}
<meta name="google-site-verification" content="{{ site.meta.google_site_verification }}">
{% endif %}
{% if site.meta.naver_site_verification and site.meta.naver_site_verification != "" %}
<meta name="naver-site-verification" content="{{ site.meta.naver_site_verification }}">
{% endif %}

<!-- 추가 SEO 메타 태그 -->
<meta name="format-detection" content="telephone=no">
<meta name="theme-color" content="#ffffff">
<link rel="canonical" href="{{ site.url }}{{ page.url }}">

<!-- 파비콘 및 아이콘 -->
<link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">

<!-- Android/Chrome 아이콘 -->
<link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/web-app-manifest-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/assets/icons/web-app-manifest-512x512.png">

<!-- Web App Manifest -->
<link rel="manifest" href="/assets/icons/site.webmanifest"> 